# ⚡️ React 데이터 흐름

## ❗️컴포넌트로 생각하기

### 👉 React의 개발 방식의 특징

- 페이지 단위가 아닌, **컴포넌트 단위**로 시작한다.
- 먼저 컴포넌트를 만들고, 다시 페이지로 조립한다.
- 즉, **상향식(bottom-up)**으로 앱을 만든다.

### 👉 상향식(bottom-up) 개발 방법의 장점

- 테스트가 쉽고 확장성이 좋다.

### 👉 컴포넌트 만드는 방법

- 프로토타입을 보고 가장 먼저 해야할 일은 컴포넌트를 계층 구조로 나누는 것이다.
- 하나의 컴포넌트는 한가지 일만 하도록 **단일 책임 원칙**에 따라 구분해야한다.

### ❗️데이터는 위에서 아래로 흐른다.

#### 데이터 흐름이 하향식(top-down)이다.

- **단방향 데이터 흐름(one-way data flow)**이라는 키워드가 **React를 대표하는 설명** 중 하나일 정도로 이 원칙은 매우 중요하다.
- 데이터를 전달하는 주체는 부모 컴포넌트가 된다.
- 컴포넌트는 컴포넌트 바깥에서 props를 이용해 데이터를 마치 인자(arguments) 혹은 속성(attributes)처럼 전달받을 수 있다.
- 컴포넌트는 props를 통해 전달받은 데이터가 어디서 왔는지 전혀 알지 못한다.

### ❗️데이터 정의

- 애플리케이션에서 필요한 데이터가 무엇인지 먼저 정의한다.
- 이 중에 변하는 값과, 변하지 않는 값은 무엇인지 찾는다.
- 확실히 사용자 입력은 이벤트에 따라 얼마든지 변할 수 있다.
- 이것은 상태(state)이다.
- 게시글 목록 역시 새 게시글 추가라는 기능을 염두해두고 있으므로, 상태(state)이다.

### ❗️상태 위치 정하기

- 상태가 특정 컴포넌트에서만 유의미하다면, 특정 컴포넌트에만 두면 되니까 크게 어렵지 않지만, 만일 하나의 상태를 기반으로 두 컴포넌트가 영향을 받는다면 이 때에는 **공통 소유 컴포넌트를 찾아 그 곳에 상태를 위치**해야 한다.
- **두 개의 자식 컴포넌트가 하나의 상태에 접근**하고자 할 때는 두 자식의 **공통의 부모 컴포넌트에 상태를 위치**해야 한다.

### ❗️역방향 데이터 흐름 추가

- 앞서 리액트는 단방향 데이터 흐름을 갖고 있다고 하였다.
- 그런데, 갑자기 왠 역방향 데이터 흐름이라는 이야기가 나올까?

#### 부모 컴포넌트에서의 상태가 하위 컴포넌트에 의해 변하는 상황이 있을 수 있다.

- 버튼 클릭 시 바로 새로운 게시글 추가가 대표적인 예다.
- 버튼을 통한 이 액션은, 부모의 상태를 변화시켜야 한다.

### ❗️상태 끌어 올리기

- 하위 컴포넌트에서의 클릭 이벤트가, 부모의 상태를 바꾸어야만 하는 상황은 어떻게 해결할 수 있을까?
- 키워드는 바로 **“State 끌어올리기(Lifting state up)”**이다.

#### 상태를 변경시키는 **함수(handler)를 하위 컴포넌트에 props로 전달**해서 해결할 수 있다.

이는 마치 **콜백 함수를 사용하는 방법**과 비슷하다.

[참고 : React로 사고하기 – React](https://ko.reactjs.org/docs/thinking-in-react.html)

[참고 : State and Lifecycle – React](https://ko.reactjs.org/docs/state-and-lifecycle.html)

[출처](https://hanamon.kr/codestates-til-%ED%95%AD%ED%95%B4%EC%9D%BC%EC%A7%80-35%EC%9D%BC%EC%B0%A8/)
